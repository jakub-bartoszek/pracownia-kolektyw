<section id="opinie">
  <h2
    class="mb-8 text-center text-4xl font-bold capitalize leading-tight tracking-wide text-accent underline decoration-4 underline-offset-[6px] sm:text-5xl"
  >
    Opinie
  </h2>

  <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
    <div
      *ngFor="let review of reviews"
      class="relative flex flex-col bg-zinc-900 p-4"
    >
      <div class="flex justify-between items-center">
        <p class="font-bold text-accent">{{ review.name }}</p>
        <p class="text-xs text-zinc-400">{{ review.date }}</p>
      </div>
      <p class="mb-4 text-sm text-zinc-400">
        Ocena:
        <span class="font-semibold text-accent">{{ review.rate }} / 5</span>
      </p>
      <p>{{ review.content }}</p>

      <button
        *ngIf="isLoggedIn && userReview?.id === review.id"
        (click)="review.id && deleteReview(review.id)"
        class="mt-4 w-min transform whitespace-nowrap bg-accent px-4 py-2 font-semibold uppercase text-background transition-transform hover:scale-105 focus:scale-105 focus:outline-none"
      >
        Usuń opinię
      </button>
    </div>
  </div>

  <p *ngIf="reviews.length === 0" class="mt-4 text-center text-lg">
    Brak opinii.
  </p>

  <div
    *ngIf="userReview"
    class="mt-4 bg-zinc-900 p-8 text-center text-lg text-zinc-400"
  >
    Już dodałeś swoją opinię.
  </div>

  <div *ngIf="!isLoggedIn" class="mt-4 bg-zinc-900 p-8 text-center">
    <p class="text-lg text-accent mb-4">Zaloguj się, aby dodać opinię.</p>
    <button
      (click)="openModal()"
      class="transform bg-accent px-6 py-3 text-lg font-semibold uppercase text-background transition-transform hover:scale-105 focus:scale-105 focus:outline-none"
    >
      Zaloguj się
    </button>
  </div>
</section>
